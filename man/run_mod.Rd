% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/Run_Mod.R
\name{run_mod}
\alias{run_mod}
\title{Run Model Jags}
\usage{
run_mod(
  data,
  file_mod,
  nchain = 4,
  nadapt = 0,
  nburn = 0,
  nmc = 100,
  niter = 100,
  strat = NA
)
}
\arguments{
\item{data}{A \code{\link[base:data.frame]{base::data.frame()}} with the following columns.}

\item{file_mod}{The name of the file that contains model structure.}

\item{nchain}{An \link{integer} between 1 and 4 that specifies
the number of mcmc chains to be run per jags model.}

\item{nadapt}{An \link{integer} specifying the number of adaptations per chain.}

\item{nburn}{An \link{integer} specifying the number of burn ins before sampling.}

\item{nmc}{An \link{integer} specifying.}

\item{niter}{An \link{integer} specifying number of iterations.}

\item{strat}{A \link{string} specifying the stratification variable, entered in quotes.}

\item{name}{description}
}
\value{
An jags.post \code{\link[=list]{list()}} object or multiple jags.post \code{\link[=list]{list()}}
if jags is stratified, as well as a \code{\link[base:data.frame]{base::data.frame()}}
titled \code{curve_params} that contains the posterior distribution.
The jags.post is
returned as a \code{\link[=list]{list()}} of class \link[runjags:runjags-class]{runjags::runjags}.
A curve_params \code{\link[base:data.frame]{base::data.frame()}} will also be exported with
the following attributes
\itemize{
\item \code{iteration} = number of sampling iterations.
\item \code{chain} = number of mcmc chains run; between 1 and 4.
\item \code{indexid} = "newperson", indicating posterior distribution.
\item \code{antigen_iso} = antibody/antigen type combination being evaluated
\item \code{alpha} = posterior estimate of decay rate
\item \code{r} = posterior estimate of shape parameter
\item \code{t1} = posterior estimate of time to peak
\item \code{y0} = posterior estimate of baseline antibody concentration
\item \code{y1} = posterior estimate of peak antibody concentration
\item \verb{stratified variable} = the variable that jags was stratified by
}
}
\description{
Run.mod() takes a data frame and adjustable mcmc inputs to
\code{\link[runjags:run.jags]{runjags::run.jags()}} as an mcmc
bayesian model to estimate antibody dynamic curve parameters.
The \code{\link[rjags:jags.model]{rjags::jags.model()}}
was adapted from Teunis et al. (2016) modeling seroresponse dynamics to an
infection. The antibody dynamic curve includes the following parameters:
\itemize{
\item y0 = baseline antibody concentration
\item y1 = peak antibody concentration
\item t1 = time to peak
\item r = shape parameter
\item alpha = decay rate
}
}
\examples{
run_mod(
    data = Dataset, #The data set input
    nchain = 4, #Number of mcmc chains to run
    nadapt = 100, #Number of adaptations to run
    nburn = 100, #Number of unrecorded samples before sampling begins
    nmc = 1000
    niter = 2000, #Number of iterations
    strat = strat) #Variable to be stratified
}
\references{
Teunis PF, van Eijkeren JC, de Graaf WF, MarinoviÄ‡ AB,
Kretzschmar ME.
Linking the seroresponse to infection to within-host
heterogeneity in antibody production.
Epidemics. 2016 Sep;16:33-9. doi: 10.1016/j.epidem.2016.04.001.
Epub 2016 Apr 28. PMID: 27663789.
}
\author{
Sam Schildhauer
}
